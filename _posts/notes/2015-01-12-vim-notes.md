---
layout: article
title: "Vim Notes"
date: 2015-01-12T19:52:-0800
modified: 2015-01-12T20:21:02-0800
categories: notes
comments: true
tags: [vim]
toc: true
exceprt:
ads: true
image:
  feature:
  teaser:
---

Useful vim commands

## Repeat n times in insert mode

<kbd>CTRL</kbd> + <kbd>o</kbd>, <kbd>i</kbd>, $(number of repetition), $(character), <kbd>ESC</kbd>

And use `$(number of repetition)=13` and `$(character)=’c’`if you want to repeat `c` 13 times
## Inserting time stamp using <kbd>F5</kbd>

Insert timestamp 2015-01-12T20:25:02-0800 ( the last element is your current timezone )
See <http://vim.wikia.com/wiki/Insert_current_date_or_time> for detail

<!--more-->

{% highlight vim %}
:nnoremap <F5> "=strftime("%Y-%m-%dT%H:%M:%S%z")<CR>p<br>
:inoremap <F5> <C-R>=strftime("%Y-%m-%dT%H:%M:%S%z")<CR>
{% endhighlight %}


## Vim autoload change

<http://stackoverflow.com/questions/2157914/can-vim-monitor-realtime-changes-to-a-file>

check file change every 4 seconds (‘CursorHold’) and reload the buffer upon detecting change

{% highlight vim %}
set autoread
au CursorHold * checktime
{% endhighlight %}

## TAG + VIM

Create tag files uing ctags

    ctags -R

Go to file definition

<kbd>CTRL</kbd>+<kbd>]</kbd>

Back to previous file

<kbd>CTRL</kbd>+<kbd>t</kbd>

Open new split for the tag

<kbd>CTRL</kbd>+<kbd>w</kbd>, <kbd>CTRL</kbd>+<kbd>]</kbd>


## Regular expression + VIM

Search word

    \<word\>

`\<` and `\>` indicate begining and end of the word.

I found the site really helpful for practicing regular expressions [^1]


## Vim freeze inside Tmux[^3]

hit <kbd>CTRL</kbd>+<kbd>S</kbd> to stop accepting input
turn on accepting input <kbd>CTRL</kbd>+<kbd>Q</kbd>

## CtrlP

<kbd>CTRL</kbd>+<kbd>v</kbd> vertical split
<kbd>CTRL</kbd>+<kbd>x</kbd> horizontal split

## Break/Merge Lines

Break long line into multiple lines with given text width.[^4]

{% highlight vim %}
set tw=79
gq{motion} % format the line that {motion} moves over
{Visual}gq % format the visually selected area
gqq        % format the current line
J          % join lines
{% endhighlight %}

## Vim Window actions

<kbd>CTRL</kbd>+<kbd>w</kbd> + <kbd>R</kbd> Rotate window vertically
<kbd>CTRL</kbd>+<kbd>w</kbd> + <kbd>r</kbd> Rotate window horizontally

<kbd>CTRL</kbd>+<kbd>w</kbd> + <kbd>l</kbd> Move the current window to the far right
<kbd>CTRL</kbd>+<kbd>w</kbd> + <kbd>h</kbd> Move the current window to the far left
<kbd>CTRL</kbd>+<kbd>w</kbd> + <kbd>j</kbd> Move the current window to the very bottom 
<kbd>CTRL</kbd>+<kbd>w</kbd> + <kbd>k</kbd> Move the current window to the very top
<kbd>CTRL</kbd>+<kbd>w</kbd> + <kbd>t</kbd> <kbd>CTRL</kbd>+<kbd>w</kbd> + <kbd>K</kbd> two vertical splits to a horizontal split
<kbd>CTRL</kbd>+<kbd>w</kbd> + <kbd>t</kbd> <kbd>CTRL</kbd>+<kbd>w</kbd> + <kbd>H</kbd> two horizontal splits to a vertical split

The command <kbd>t</kbd> make the top left window current.
The command <kbd>K</kbd> moves the current window to full-width at the very top.
The command <kbd>H</kbd> moves the current window to full-height at far left.

## Clipboard Issue

I’m using `spf13-vim` setting for my default vimrc setup. However, when I `ssh` to an existing tmux vim session, yank does not wokr. It turns out that the solution is to reset the `clipboard` variable.

{% highlight bash %}
:set clipboard=
{% endhighlight %}

or put the above line without colon on `.vimrc.local`[^6]




[^1]: http://regexone.com/ 
[^2]: http://vim.wikia.com/wiki/Search_patterns
[^3]: http://superuser.com/questions/553330/vim-freezes-inside-tmux
[^4]: http://stackoverflow.com/questions/1272173/in-vim-how-do-i-break-one-really-long-line-into-multiple-lines
[^5]: http://stackoverflow.com/questions/1269603/to-switch-from-vertical-split-to-horizontal-split-fast-in-vim
[^6]: https://github.com/spf13/spf13-vim/issues/359

